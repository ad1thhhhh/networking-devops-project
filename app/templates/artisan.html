{% extends "base.html" %}
{% block content %}

<div class="space-y-12 animate-fadeIn">

<h1 class="text-4xl font-bold text-white">Artisan Workspace</h1>

<div class="grid md:grid-cols-2 gap-8">

{% for task in tasks %}
<div class="bg-white/5 p-8 rounded-3xl border border-white/10 flex justify-between items-center">

    <span class="{% if task.completed %}line-through text-gray-500{% endif %}">
        {{ task.title }}
    </span>

    {% if not task.completed %}
    <a href="/complete/{{ task.id }}" onclick="celebrate()"
       class="px-6 py-3 bg-green-600 rounded-xl hover:scale-105 transition">
        Complete
    </a>
    {% else %}
    <span class="text-green-400">✔ Done</span>
    {% endif %}

</div>
{% endfor %}

</div>

</div>

<script>
function celebrate() {
    const badge = document.createElement("div");
    badge.className = "fixed top-6 right-6 bg-green-600/20 border border-green-400 text-green-300 px-6 py-4 rounded-2xl";
    badge.innerHTML = "✔ Task Completed!";
    document.body.appendChild(badge);
    setTimeout(() => badge.remove(), 2000);
}
</script>

{% endblock %}
